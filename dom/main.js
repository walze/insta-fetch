!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=16)}([function(t,e,n){t.exports=n(6)},function(t,e){function n(t,e,n,r,o,i,u){try{var s=t[i](u),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(o,i){var u=t.apply(e,r);function s(t){n(u,o,i,s,c,"next",t)}function c(t){n(u,o,i,s,c,"throw",t)}s(void 0)})}}},function(t,e,n){var r=n(13),o=n(14),i=n(15);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){var r=n(10),o=n(11),i=n(12);t.exports=function(t,e){return r(t)||o(t,e)||i()}},function(t,e,n){(function(e){t.exports=e.env.PROMISE_QUEUE_COVERAGE?n(8):n(9)}).call(this,n(7))},function(t,e,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function a(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var o,i,u,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),i=t._events),u=i[e]),void 0===u)u=i[e]=n,++t._eventsCount;else if("function"==typeof u?u=i[e]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=a(t))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=u.length,s=c,console&&console.warn&&console.warn(s)}return t}function l(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,t))}.bind(r);return o.listener=n,r.wrapFn=o,o}function h(t,e,n){var r=t._events;if(void 0===r)return[];var o=r[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):v(o,o.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return a(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var u;if(e.length>0&&(u=e[0]),u instanceof Error)throw u;var s=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var a=c.length,f=v(c,a);for(n=0;n<a;++n)i(f[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,l(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,l(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,o,i,u;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===e||n[i].listener===e){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,u||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return h(this,t,!0)},s.prototype.rawListeners=function(t){return h(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),u=new j(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var u=n.delegate;if(u){var s=E(u,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=a(t,e,n);if("normal"===c.type){if(r=n.done?p:l,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(t,n,u),i}function a(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",v={};function d(){}function y(){}function m(){}var g={};g[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(T([])));b&&b!==n&&r.call(b,i)&&(g=b);var L=m.prototype=d.prototype=Object.create(g);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,u){var s=a(t[n],t,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,i,u)},function(t){e("throw",t,i,u)}):Promise.resolve(f).then(function(t){c.value=t,i(c)},function(t){return e("throw",t,i,u)})}u(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function E(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=a(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return u.next=u}}return{next:S}}function S(){return{value:e,done:!0}}return y.prototype=L.constructor=m,m.constructor=y,m[s]=y.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(L),t},t.awrap=function(t){return{__await:t}},x(_.prototype),_.prototype[u]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o){var i=new _(c(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(L),L[s]="Generator",L[i]=function(){return this},L.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=r.call(u,"catchLoc"),a=r.call(u,"finallyLoc");if(c&&a){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,a=[],f=!1,l=-1;function h(){f&&c&&(f=!1,c.length?a=c.concat(a):l=-1,a.length&&p())}function p(){if(!f){var t=s(h);f=!0;for(var e=a.length;e;){for(c=a,a=[];++l<e;)c&&c[l].run();l=-1,e=a.length}c=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];a.push(new v(t,e)),1!==a.length||f||s(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){},function(t,e,n){var r,o;!function(i,u){"use strict";t.exports?t.exports=u():void 0===(o="function"==typeof(r=u)?r.call(e,n,e,t):r)||(t.exports=o)}(0,function(){"use strict";var t="undefined"!=typeof Promise?Promise:function(){return{then:function(){throw new Error("Queue.configure() before use Queue")}}},e=function(){};function n(t,e,n){this.options=n=n||{},this.pendingPromises=0,this.maxPendingPromises=void 0!==t?t:1/0,this.maxQueuedPromises=void 0!==e?e:1/0,this.queue=[]}return n.configure=function(e){t=e},n.prototype.add=function(n){var r=this;return new t(function(t,o,i){r.queue.length>=r.maxQueuedPromises?o(new Error("Queue limit reached")):(r.queue.push({promiseGenerator:n,resolve:t,reject:o,notify:i||e}),r._dequeue())})},n.prototype.getPendingLength=function(){return this.pendingPromises},n.prototype.getQueueLength=function(){return this.queue.length},n.prototype._dequeue=function(){var e=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var n,r=this.queue.shift();if(!r)return this.options.onEmpty&&this.options.onEmpty(),!1;try{this.pendingPromises++,(n=r.promiseGenerator(),n&&"function"==typeof n.then?n:new t(function(t){t(n)})).then(function(t){e.pendingPromises--,r.resolve(t),e._dequeue()},function(t){e.pendingPromises--,r.reject(t),e._dequeue()},function(t){r.notify(t)})}catch(t){e.pendingPromises--,r.reject(t),e._dequeue()}return!0},n})},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),u=n.n(i),s=n(4),c=n.n(s),a=n(3),f=n.n(a),l=n(2),h=n.n(l),p=new(n(5).EventEmitter),v={},d=v.ADDED_LINKS,y=void 0===d?"added_links":d,m=v.LISTENING_LINKS,g=void 0===m?"listening_links":m,w=function(){return h()(document.body.querySelectorAll("[href]")).map(function(t){return t.href}).filter(function(t){return/https:\/\/www\.instagram\.com\/p\//.test(t)})},b=w(),L=document.createElement("div");document.body.append(L),p.on(g,function(){p.emit(y,b,b),document.body.addEventListener("DOMSubtreeModified",function(){var t=!1,e=0,n=w().filter(function(t){return!b.includes(t)}).map(function(n){return e++,t=!0,n});n.length<1||(b.push.apply(b,h()(n)),p.emit(y,n,b),t&&console.log("added ".concat(e," links, total:"),b.length))})});var x,_,E,O=function(t){return t.map(function(t){var e=t.content;return{name:t.getAttribute("property"),content:e}}).filter(function(t){return t.name&&t.name.match(/og:.+/)}).map(function(t){var e=t.name.replace("og:",""),n=t.content.match(/@([^\s)]+)/);if("description"===e&&(t.content=n[1]),"image"===e||"description"===e)return t.content}).filter(function(t){return!!t})},P=function(){var t=u()(o.a.mark(function t(e){var n,r,i,u,s,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.createElement("div")).innerHTML=e,r=O(h()(n.querySelectorAll("meta"))),i=f()(r,2),u=i[0],s=i[1],console.info("Got photo from @".concat(s)),c={user:s,photo:u},t.abrupt("return",c);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),j=new c.a(1,1/0),T=function(t){return fetch(t).then(function(t){return t.text()}).then(P)},S=function(t){var e=j.add(function(){return t}),n=j.getPendingLength(),r=j.getQueueLength();return console.log("Queue Pending",n),console.log("Queue Length",r),e},k=[];p.on(y,(x=k,_=u()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("found new links",e),n=function(){var t=u()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=x,t.next=3,e;case 3:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.abrupt("return",e);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),t.abrupt("return",e.map(T).map(S).map(n));case 3:case"end":return t.stop()}},t)})),function(t){return _.apply(this,arguments)})),p.emit(g),console.log("photos ref",k),console.log("\nCTRL + Z to download"),document.onkeydown=(E=k,function(t){var e,n,r,o,i=window.event?event:t;90==i.keyCode&&i.ctrlKey&&(e=E,n="links",r="data:text/jsoncharset=utf-8,"+encodeURIComponent(JSON.stringify(e)),(o=document.createElement("a")).setAttribute("href",r),o.setAttribute("download",n+".json"),document.body.appendChild(o),o.click(),o.remove())})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdG9Db25zdW1hYmxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvc2xpY2VkVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvbWlzZS1xdWV1ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb21pc2UtcXVldWUvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FycmF5V2l0aEhvbGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2l0ZXJhYmxlVG9BcnJheUxpbWl0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL25vbkl0ZXJhYmxlUmVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pdGVyYWJsZVRvQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvbm9uSXRlcmFibGVTcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYnJvd3Nlci9ET00uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZW4iLCJyZXNvbHZlIiwicmVqZWN0IiwiX25leHQiLCJfdGhyb3ciLCJhcmciLCJpbmZvIiwiZXJyb3IiLCJkb25lIiwiUHJvbWlzZSIsInRoZW4iLCJmbiIsInNlbGYiLCJ0aGlzIiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwiZXJyIiwidW5kZWZpbmVkIiwiYXJyYXlXaXRob3V0SG9sZXMiLCJpdGVyYWJsZVRvQXJyYXkiLCJub25JdGVyYWJsZVNwcmVhZCIsImFyciIsImFycmF5V2l0aEhvbGVzIiwiaXRlcmFibGVUb0FycmF5TGltaXQiLCJub25JdGVyYWJsZVJlc3QiLCJwcm9jZXNzIiwiZW52IiwiUFJPTUlTRV9RVUVVRV9DT1ZFUkFHRSIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJ0YXJnZXQiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsIiRnZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsImxpc3RlbmVyIiwicHJlcGVuZCIsImV2ZW50cyIsImV4aXN0aW5nIiwid2FybmluZyIsIlR5cGVFcnJvciIsIm5ld0xpc3RlbmVyIiwiZW1pdCIsInVuc2hpZnQiLCJwdXNoIiwibGVuZ3RoIiwid2FybmVkIiwidyIsIkVycm9yIiwiU3RyaW5nIiwiZW1pdHRlciIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsImZpcmVkIiwid3JhcEZuIiwid3JhcHBlZCIsInJlbW92ZUxpc3RlbmVyIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJyZXQiLCJBcnJheSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwiY29weSIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlciIsIm1lc3NhZ2UiLCJjb250ZXh0IiwiaGFuZGxlciIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwib24iLCJwcmVwZW5kTGlzdGVuZXIiLCJvbmNlIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJydW50aW1lIiwiT3AiLCJoYXNPd24iLCIkU3ltYm9sIiwiaXRlcmF0b3JTeW1ib2wiLCJpdGVyYXRvciIsImFzeW5jSXRlcmF0b3JTeW1ib2wiLCJhc3luY0l0ZXJhdG9yIiwidG9TdHJpbmdUYWdTeW1ib2wiLCJ3cmFwIiwiaW5uZXJGbiIsIm91dGVyRm4iLCJ0cnlMb2NzTGlzdCIsInByb3RvR2VuZXJhdG9yIiwiR2VuZXJhdG9yIiwiZ2VuZXJhdG9yIiwiQ29udGV4dCIsIl9pbnZva2UiLCJHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0IiwibWV0aG9kIiwiR2VuU3RhdGVFeGVjdXRpbmciLCJHZW5TdGF0ZUNvbXBsZXRlZCIsImRvbmVSZXN1bHQiLCJkZWxlZ2F0ZSIsImRlbGVnYXRlUmVzdWx0IiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsIkNvbnRpbnVlU2VudGluZWwiLCJzZW50IiwiX3NlbnQiLCJkaXNwYXRjaEV4Y2VwdGlvbiIsImFicnVwdCIsInJlY29yZCIsInRyeUNhdGNoIiwiR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCIsIm1ha2VJbnZva2VNZXRob2QiLCJvYmoiLCJHZW5lcmF0b3JGdW5jdGlvbiIsIkdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlIiwiSXRlcmF0b3JQcm90b3R5cGUiLCJnZXRQcm90byIsIk5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlIiwidmFsdWVzIiwiR3AiLCJkZWZpbmVJdGVyYXRvck1ldGhvZHMiLCJmb3JFYWNoIiwiQXN5bmNJdGVyYXRvciIsInByZXZpb3VzUHJvbWlzZSIsImNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnIiwiaW52b2tlIiwicmVzdWx0IiwiX19hd2FpdCIsInVud3JhcHBlZCIsInJlc3VsdE5hbWUiLCJuZXh0IiwibmV4dExvYyIsInB1c2hUcnlFbnRyeSIsImxvY3MiLCJlbnRyeSIsInRyeUxvYyIsImNhdGNoTG9jIiwiZmluYWxseUxvYyIsImFmdGVyTG9jIiwidHJ5RW50cmllcyIsInJlc2V0VHJ5RW50cnkiLCJjb21wbGV0aW9uIiwicmVzZXQiLCJpdGVyYWJsZSIsIml0ZXJhdG9yTWV0aG9kIiwiY29uc3RydWN0b3IiLCJkaXNwbGF5TmFtZSIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJnZW5GdW4iLCJjdG9yIiwibWFyayIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiYXdyYXAiLCJhc3luYyIsIml0ZXIiLCJ0b1N0cmluZyIsInJldmVyc2UiLCJza2lwVGVtcFJlc2V0IiwicHJldiIsImNoYXJBdCIsInNsaWNlIiwic3RvcCIsInJvb3RSZWNvcmQiLCJydmFsIiwiZXhjZXB0aW9uIiwiaGFuZGxlIiwibG9jIiwiY2F1Z2h0IiwiaGFzQ2F0Y2giLCJoYXNGaW5hbGx5IiwiZmluYWxseUVudHJ5IiwiY29tcGxldGUiLCJmaW5pc2giLCJjYXRjaCIsInRocm93biIsImRlbGVnYXRlWWllbGQiLCJyZWdlbmVyYXRvclJ1bnRpbWUiLCJhY2NpZGVudGFsU3RyaWN0TW9kZSIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiZSIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsInJvb3QiLCJmYWN0b3J5IiwiTG9jYWxQcm9taXNlIiwiUXVldWUiLCJtYXhQZW5kaW5nUHJvbWlzZXMiLCJtYXhRdWV1ZWRQcm9taXNlcyIsIm9wdGlvbnMiLCJwZW5kaW5nUHJvbWlzZXMiLCJJbmZpbml0eSIsImNvbmZpZ3VyZSIsIkdsb2JhbFByb21pc2UiLCJhZGQiLCJwcm9taXNlR2VuZXJhdG9yIiwibm90aWZ5IiwiX2RlcXVldWUiLCJnZXRQZW5kaW5nTGVuZ3RoIiwiZ2V0UXVldWVMZW5ndGgiLCJpdGVtIiwib25FbXB0eSIsImlzQXJyYXkiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsImFycjIiLCJmcm9tIiwiQURERURfTElOS1MiLCJMSVNURU5JTkdfTElOS1MiLCJnZXRMaW5rcyIsInRvQ29uc3VtYWJsZUFycmF5X2RlZmF1bHQiLCJkb2N1bWVudCIsImJvZHkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWFwIiwiYSIsImhyZWYiLCJmaWx0ZXIiLCJsaW5rIiwidGVzdCIsImxpbmtzIiwid3JhcHBlciIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiYW55QWRkZWQiLCJuZXdMaW5rcyIsImluY2x1ZGVzIiwibG9nIiwicGhvdG9zIiwiX3JlZiIsImZpbGUiLCJnZXRNZXRhRGF0YSIsIm1ldGEiLCJjb250ZW50IiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJyZXBsYWNlIiwiZ2V0TGlua0RhdGEiLCJfcmVmMyIsImFzeW5jVG9HZW5lcmF0b3JfZGVmYXVsdCIsInJlZ2VuZXJhdG9yX2RlZmF1bHQiLCJfY2FsbGVlMyIsImh0bWwiLCJkaXYiLCJfZ2V0TWV0YURhdGEzIiwiX2dldE1ldGFEYXRhNCIsInBob3RvIiwidXNlciIsIl9jb250ZXh0MyIsImlubmVySFRNTCIsInNsaWNlZFRvQXJyYXlfZGVmYXVsdCIsIl94MyIsImZldGNoTGlua0RhdGEiLCJmZXRjaCIsInRleHQiLCJhZGQyUXVldWUiLCJxIiwicGVuZGluZyIsIl9jYWxsZWUyIiwiYWRkZWRMaW5rcyIsInB1c2hQaG90b3MiLCJfY29udGV4dDIiLCJfcmVmMiIsIl9jYWxsZWUiLCJwaG90b1Byb21pc2UiLCJfY29udGV4dCIsInQwIiwidDEiLCJfeDIiLCJfeCIsIm9ua2V5ZG93biIsImV4cG9ydE9iaiIsImV4cG9ydE5hbWUiLCJkYXRhU3RyIiwiZG93bmxvYWRBbmNob3JOb2RlIiwiZXZ0b2JqIiwid2luZG93IiwiZXZlbnQiLCJrZXlDb2RlIiwiY3RybEtleSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFB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TUYsRUQzQ0UsU0FBQTlFLEdBQzdCLElFRXlCeUgsRUFBV0MsRUFDOUJDLEVBQ0FDLEVGSkFDLEVBQVNDLE9BQU9DLE1BQVFBLE1BQVEvSCxFQUNoQixJQUFsQjZILEVBQU9HLFNBQWlCSCxFQUFPSSxVRUNWUixFRkRnQ3pDLEVFQ3JCMEMsRUZEMkIsUUVFekRDLEVBQVUsK0JBQWlDTyxtQkFBbUJDLEtBQUtDLFVBQVVYLEtBQzdFRyxFQUFxQmhFLFNBQVNXLGNBQWMsTUFFL0I4RCxhQUFhLE9BQVFWLEdBQ3hDQyxFQUFtQlMsYUFBYSxXQUFZWCxFQUFhLFNBRXpEOUQsU0FBU0MsS0FBS3lFLFlBQVlWLEdBRTFCQSxFQUFtQlcsUUFDbkJYLEVBQW1CWSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDE2KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInJlZ2VuZXJhdG9yLXJ1bnRpbWVcIik7XG4iLCJmdW5jdGlvbiBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIGtleSwgYXJnKSB7XG4gIHRyeSB7XG4gICAgdmFyIGluZm8gPSBnZW5ba2V5XShhcmcpO1xuICAgIHZhciB2YWx1ZSA9IGluZm8udmFsdWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVqZWN0KGVycm9yKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaW5mby5kb25lKSB7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKF9uZXh0LCBfdGhyb3cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgZ2VuID0gZm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cbiAgICAgIGZ1bmN0aW9uIF9uZXh0KHZhbHVlKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJuZXh0XCIsIHZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gX3Rocm93KGVycikge1xuICAgICAgICBhc3luY0dlbmVyYXRvclN0ZXAoZ2VuLCByZXNvbHZlLCByZWplY3QsIF9uZXh0LCBfdGhyb3csIFwidGhyb3dcIiwgZXJyKTtcbiAgICAgIH1cblxuICAgICAgX25leHQodW5kZWZpbmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfYXN5bmNUb0dlbmVyYXRvcjsiLCJ2YXIgYXJyYXlXaXRob3V0SG9sZXMgPSByZXF1aXJlKFwiLi9hcnJheVdpdGhvdXRIb2xlc1wiKTtcblxudmFyIGl0ZXJhYmxlVG9BcnJheSA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheVwiKTtcblxudmFyIG5vbkl0ZXJhYmxlU3ByZWFkID0gcmVxdWlyZShcIi4vbm9uSXRlcmFibGVTcHJlYWRcIik7XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHtcbiAgcmV0dXJuIGFycmF5V2l0aG91dEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5KGFycikgfHwgbm9uSXRlcmFibGVTcHJlYWQoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfdG9Db25zdW1hYmxlQXJyYXk7IiwidmFyIGFycmF5V2l0aEhvbGVzID0gcmVxdWlyZShcIi4vYXJyYXlXaXRoSG9sZXNcIik7XG5cbnZhciBpdGVyYWJsZVRvQXJyYXlMaW1pdCA9IHJlcXVpcmUoXCIuL2l0ZXJhYmxlVG9BcnJheUxpbWl0XCIpO1xuXG52YXIgbm9uSXRlcmFibGVSZXN0ID0gcmVxdWlyZShcIi4vbm9uSXRlcmFibGVSZXN0XCIpO1xuXG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShhcnIsIGkpIHtcbiAgcmV0dXJuIGFycmF5V2l0aEhvbGVzKGFycikgfHwgaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBub25JdGVyYWJsZVJlc3QoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfc2xpY2VkVG9BcnJheTsiLCJtb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3MuZW52LlBST01JU0VfUVVFVUVfQ09WRVJBR0UgP1xuICAgIHJlcXVpcmUoJy4vbGliLWNvdicpIDpcbiAgICByZXF1aXJlKCcuL2xpYicpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uICRnZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuICRnZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSAkZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgUmVmbGVjdEFwcGx5KHRoaXMubGlzdGVuZXIsIHRoaXMudGFyZ2V0LCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbnZhciBydW50aW1lID0gKGZ1bmN0aW9uIChleHBvcnRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBPcCA9IE9iamVjdC5wcm90b3R5cGU7XG4gIHZhciBoYXNPd24gPSBPcC5oYXNPd25Qcm9wZXJ0eTtcbiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuXG4gIHZhciAkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiID8gU3ltYm9sIDoge307XG4gIHZhciBpdGVyYXRvclN5bWJvbCA9ICRTeW1ib2wuaXRlcmF0b3IgfHwgXCJAQGl0ZXJhdG9yXCI7XG4gIHZhciBhc3luY0l0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IFwiQEBhc3luY0l0ZXJhdG9yXCI7XG4gIHZhciB0b1N0cmluZ1RhZ1N5bWJvbCA9ICRTeW1ib2wudG9TdHJpbmdUYWcgfHwgXCJAQHRvU3RyaW5nVGFnXCI7XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQgYW5kIG91dGVyRm4ucHJvdG90eXBlIGlzIGEgR2VuZXJhdG9yLCB0aGVuIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yLlxuICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yO1xuICAgIHZhciBnZW5lcmF0b3IgPSBPYmplY3QuY3JlYXRlKHByb3RvR2VuZXJhdG9yLnByb3RvdHlwZSk7XG4gICAgdmFyIGNvbnRleHQgPSBuZXcgQ29udGV4dCh0cnlMb2NzTGlzdCB8fCBbXSk7XG5cbiAgICAvLyBUaGUgLl9pbnZva2UgbWV0aG9kIHVuaWZpZXMgdGhlIGltcGxlbWVudGF0aW9ucyBvZiB0aGUgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzLlxuICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTtcblxuICAgIHJldHVybiBnZW5lcmF0b3I7XG4gIH1cbiAgZXhwb3J0cy53cmFwID0gd3JhcDtcblxuICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb25cbiAgLy8gcmVjb3JkIGxpa2UgY29udGV4dC50cnlFbnRyaWVzW2ldLmNvbXBsZXRpb24uIFRoaXMgaW50ZXJmYWNlIGNvdWxkXG4gIC8vIGhhdmUgYmVlbiAoYW5kIHdhcyBwcmV2aW91c2x5KSBkZXNpZ25lZCB0byB0YWtlIGEgY2xvc3VyZSB0byBiZVxuICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlXG4gIC8vIGFscmVhZHkgaGF2ZSBhbiBleGlzdGluZyBtZXRob2Qgd2Ugd2FudCB0byBjYWxsLCBzbyB0aGVyZSdzIG5vIG5lZWRcbiAgLy8gdG8gY3JlYXRlIGEgbmV3IGZ1bmN0aW9uIG9iamVjdC4gV2UgY2FuIGV2ZW4gZ2V0IGF3YXkgd2l0aCBhc3N1bWluZ1xuICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZVxuICAvLyBpbiBldmVyeSBjYXNlLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHRvdWNoIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBUaGVcbiAgLy8gb25seSBhZGRpdGlvbmFsIGFsbG9jYXRpb24gcmVxdWlyZWQgaXMgdGhlIGNvbXBsZXRpb24gcmVjb3JkLCB3aGljaFxuICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuXG4gIGZ1bmN0aW9uIHRyeUNhdGNoKGZuLCBvYmosIGFyZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcIm5vcm1hbFwiLCBhcmc6IGZuLmNhbGwob2JqLCBhcmcpIH07XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInRocm93XCIsIGFyZzogZXJyIH07XG4gICAgfVxuICB9XG5cbiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkU3RhcnQgPSBcInN1c3BlbmRlZFN0YXJ0XCI7XG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFlpZWxkID0gXCJzdXNwZW5kZWRZaWVsZFwiO1xuICB2YXIgR2VuU3RhdGVFeGVjdXRpbmcgPSBcImV4ZWN1dGluZ1wiO1xuICB2YXIgR2VuU3RhdGVDb21wbGV0ZWQgPSBcImNvbXBsZXRlZFwiO1xuXG4gIC8vIFJldHVybmluZyB0aGlzIG9iamVjdCBmcm9tIHRoZSBpbm5lckZuIGhhcyB0aGUgc2FtZSBlZmZlY3QgYXNcbiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LlxuICB2YXIgQ29udGludWVTZW50aW5lbCA9IHt9O1xuXG4gIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZFxuICAvLyAuY29uc3RydWN0b3IucHJvdG90eXBlIHByb3BlcnRpZXMgZm9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiBHZW5lcmF0b3JcbiAgLy8gb2JqZWN0cy4gRm9yIGZ1bGwgc3BlYyBjb21wbGlhbmNlLCB5b3UgbWF5IHdpc2ggdG8gY29uZmlndXJlIHlvdXJcbiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy5cbiAgZnVuY3Rpb24gR2VuZXJhdG9yKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb24oKSB7fVxuICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9XG5cbiAgLy8gVGhpcyBpcyBhIHBvbHlmaWxsIGZvciAlSXRlcmF0b3JQcm90b3R5cGUlIGZvciBlbnZpcm9ubWVudHMgdGhhdFxuICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LlxuICB2YXIgSXRlcmF0b3JQcm90b3R5cGUgPSB7fTtcbiAgSXRlcmF0b3JQcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbiAgdmFyIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlID0gZ2V0UHJvdG8gJiYgZ2V0UHJvdG8oZ2V0UHJvdG8odmFsdWVzKFtdKSkpO1xuICBpZiAoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgJiZcbiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJlxuICAgICAgaGFzT3duLmNhbGwoTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUsIGl0ZXJhdG9yU3ltYm9sKSkge1xuICAgIC8vIFRoaXMgZW52aXJvbm1lbnQgaGFzIGEgbmF0aXZlICVJdGVyYXRvclByb3RvdHlwZSU7IHVzZSBpdCBpbnN0ZWFkXG4gICAgLy8gb2YgdGhlIHBvbHlmaWxsLlxuICAgIEl0ZXJhdG9yUHJvdG90eXBlID0gTmF0aXZlSXRlcmF0b3JQcm90b3R5cGU7XG4gIH1cblxuICB2YXIgR3AgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5wcm90b3R5cGUgPVxuICAgIEdlbmVyYXRvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlKTtcbiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvbjtcbiAgR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGVbdG9TdHJpbmdUYWdTeW1ib2xdID1cbiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcblxuICAvLyBIZWxwZXIgZm9yIGRlZmluaW5nIHRoZSAubmV4dCwgLnRocm93LCBhbmQgLnJldHVybiBtZXRob2RzIG9mIHRoZVxuICAvLyBJdGVyYXRvciBpbnRlcmZhY2UgaW4gdGVybXMgb2YgYSBzaW5nbGUgLl9pbnZva2UgbWV0aG9kLlxuICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7XG4gICAgW1wibmV4dFwiLCBcInRocm93XCIsIFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICBwcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHtcbiAgICAgICAgZ2VuRnVuW3RvU3RyaW5nVGFnU3ltYm9sXSA9IFwiR2VuZXJhdG9yRnVuY3Rpb25cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApO1xuICAgIHJldHVybiBnZW5GdW47XG4gIH07XG5cbiAgLy8gV2l0aGluIHRoZSBib2R5IG9mIGFueSBhc3luYyBmdW5jdGlvbiwgYGF3YWl0IHhgIGlzIHRyYW5zZm9ybWVkIHRvXG4gIC8vIGB5aWVsZCByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoeClgLCBzbyB0aGF0IHRoZSBydW50aW1lIGNhbiB0ZXN0XG4gIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgXCJfX2F3YWl0XCIpYCB0byBkZXRlcm1pbmUgaWYgdGhlIHlpZWxkZWQgdmFsdWUgaXNcbiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC5cbiAgZXhwb3J0cy5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB7IF9fYXdhaXQ6IGFyZyB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFzeW5jSXRlcmF0b3IoZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGludm9rZShcIm5leHRcIiwgdmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJ0aHJvd1wiLCBlcnIsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkge1xuICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgLy8gdGhlIC52YWx1ZSBvZiB0aGUgUHJvbWlzZTx7dmFsdWUsZG9uZX0+IHJlc3VsdCBmb3IgdGhlXG4gICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uXG4gICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAvLyBJZiBhIHJlamVjdGVkIFByb21pc2Ugd2FzIHlpZWxkZWQsIHRocm93IHRoZSByZWplY3Rpb24gYmFja1xuICAgICAgICAgIC8vIGludG8gdGhlIGFzeW5jIGdlbmVyYXRvciBmdW5jdGlvbiBzbyBpdCBjYW4gYmUgaGFuZGxlZCB0aGVyZS5cbiAgICAgICAgICByZXR1cm4gaW52b2tlKFwidGhyb3dcIiwgZXJyb3IsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwcmV2aW91c1Byb21pc2U7XG5cbiAgICBmdW5jdGlvbiBlbnF1ZXVlKG1ldGhvZCwgYXJnKSB7XG4gICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KVxuICAgICk7XG5cbiAgICByZXR1cm4gZXhwb3J0cy5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7XG4gICAgICBjb250ZXh0LmFyZyA9IGFyZztcblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG4gICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQgPT09IENvbnRpbnVlU2VudGluZWwpIGNvbnRpbnVlO1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAvLyBTZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZztcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlU3VzcGVuZGVkU3RhcnQpIHtcbiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgICB0aHJvdyBjb250ZXh0LmFyZztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgY29udGV4dC5hcmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUV4ZWN1dGluZztcblxuICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2goaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG4gICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIikge1xuICAgICAgICAgIC8vIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gZnJvbSBpbm5lckZuLCB3ZSBsZWF2ZSBzdGF0ZSA9PT1cbiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uXG4gICAgICAgICAgc3RhdGUgPSBjb250ZXh0LmRvbmVcbiAgICAgICAgICAgID8gR2VuU3RhdGVDb21wbGV0ZWRcbiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHJlY29yZC5hcmcsXG4gICAgICAgICAgICBkb25lOiBjb250ZXh0LmRvbmVcbiAgICAgICAgICB9O1xuXG4gICAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7XG4gICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZVxuICAgICAgICAgIC8vIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIENhbGwgZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdKGNvbnRleHQuYXJnKSBhbmQgaGFuZGxlIHRoZVxuICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlXG4gIC8vIGRlbGVnYXRlIGl0ZXJhdG9yLCBvciBieSBtb2RpZnlpbmcgY29udGV4dC5tZXRob2QgYW5kIGNvbnRleHQuYXJnLFxuICAvLyBzZXR0aW5nIGNvbnRleHQuZGVsZWdhdGUgdG8gbnVsbCwgYW5kIHJldHVybmluZyB0aGUgQ29udGludWVTZW50aW5lbC5cbiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBtZXRob2QgPSBkZWxlZ2F0ZS5pdGVyYXRvcltjb250ZXh0Lm1ldGhvZF07XG4gICAgaWYgKG1ldGhvZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3dcbiAgICAgIC8vIG1ldGhvZCBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgLy8gTm90ZTogW1wicmV0dXJuXCJdIG11c3QgYmUgdXNlZCBmb3IgRVMzIHBhcnNpbmcgY29tcGF0aWJpbGl0eS5cbiAgICAgICAgaWYgKGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgIC8vIGNoYW5jZSB0byBjbGVhbiB1cC5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb21cbiAgICAgICAgICAgIC8vIFwicmV0dXJuXCIgdG8gXCJ0aHJvd1wiLCBsZXQgdGhhdCBvdmVycmlkZSB0aGUgVHlwZUVycm9yIGJlbG93LlxuICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBcIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2RcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChtZXRob2QsIGRlbGVnYXRlLml0ZXJhdG9yLCBjb250ZXh0LmFyZyk7XG5cbiAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgY29udGV4dC5tZXRob2QgPSBcInRocm93XCI7XG4gICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIHZhciBpbmZvID0gcmVjb3JkLmFyZztcblxuICAgIGlmICghIGluZm8pIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKFwiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3RcIik7XG4gICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cblxuICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgIC8vIEFzc2lnbiB0aGUgcmVzdWx0IG9mIHRoZSBmaW5pc2hlZCBkZWxlZ2F0ZSB0byB0aGUgdGVtcG9yYXJ5XG4gICAgICAvLyB2YXJpYWJsZSBzcGVjaWZpZWQgYnkgZGVsZWdhdGUucmVzdWx0TmFtZSAoc2VlIGRlbGVnYXRlWWllbGQpLlxuICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG5cbiAgICAgIC8vIFJlc3VtZSBleGVjdXRpb24gYXQgdGhlIGRlc2lyZWQgbG9jYXRpb24gKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7XG5cbiAgICAgIC8vIElmIGNvbnRleHQubWV0aG9kIHdhcyBcInRocm93XCIgYnV0IHRoZSBkZWxlZ2F0ZSBoYW5kbGVkIHRoZVxuICAgICAgLy8gZXhjZXB0aW9uLCBsZXQgdGhlIG91dGVyIGdlbmVyYXRvciBwcm9jZWVkIG5vcm1hbGx5LiBJZlxuICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzIFwibmV4dFwiLCBmb3JnZXQgY29udGV4dC5hcmcgc2luY2UgaXQgaGFzIGJlZW5cbiAgICAgIC8vIFwiY29uc3VtZWRcIiBieSB0aGUgZGVsZWdhdGUgaXRlcmF0b3IuIElmIGNvbnRleHQubWV0aG9kIHdhc1xuICAgICAgLy8gXCJyZXR1cm5cIiwgYWxsb3cgdGhlIG9yaWdpbmFsIC5yZXR1cm4gY2FsbCB0byBjb250aW51ZSBpbiB0aGVcbiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCAhPT0gXCJyZXR1cm5cIikge1xuICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBSZS15aWVsZCB0aGUgcmVzdWx0IHJldHVybmVkIGJ5IHRoZSBkZWxlZ2F0ZSBtZXRob2QuXG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aFxuICAgIC8vIHRoZSBvdXRlciBnZW5lcmF0b3IuXG4gICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gIH1cblxuICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZVxuICAvLyB1bmlmaWVkIC5faW52b2tlIGhlbHBlciBtZXRob2QuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhHcCk7XG5cbiAgR3BbdG9TdHJpbmdUYWdTeW1ib2xdID0gXCJHZW5lcmF0b3JcIjtcblxuICAvLyBBIEdlbmVyYXRvciBzaG91bGQgYWx3YXlzIHJldHVybiBpdHNlbGYgYXMgdGhlIGl0ZXJhdG9yIG9iamVjdCB3aGVuIHRoZVxuICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZVxuICAvLyBpdGVyYXRvciBwcm90b3R5cGUgY2hhaW4gaW5jb3JyZWN0bHkgaW1wbGVtZW50IHRoaXMsIGNhdXNpbmcgdGhlIEdlbmVyYXRvclxuICAvLyBvYmplY3QgdG8gbm90IGJlIHJldHVybmVkIGZyb20gdGhpcyBjYWxsLiBUaGlzIGVuc3VyZXMgdGhhdCBkb2Vzbid0IGhhcHBlbi5cbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBleHBvcnRzLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgZXhwb3J0cy52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIC8vIFJlc2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAvLyBmdW5jdGlvbi5zZW50IGltcGxlbWVudGF0aW9uLlxuICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMubWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7XG5cbiAgICAgIGlmICghc2tpcFRlbXBSZXNldCkge1xuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHtcbiAgICAgICAgICAvLyBOb3Qgc3VyZSBhYm91dCB0aGUgb3B0aW1hbCBvcmRlciBvZiB0aGVzZSBjb25kaXRpb25zOlxuICAgICAgICAgIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gXCJ0XCIgJiZcbiAgICAgICAgICAgICAgaGFzT3duLmNhbGwodGhpcywgbmFtZSkgJiZcbiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuXG4gICAgICB2YXIgcm9vdEVudHJ5ID0gdGhpcy50cnlFbnRyaWVzWzBdO1xuICAgICAgdmFyIHJvb3RSZWNvcmQgPSByb290RW50cnkuY29tcGxldGlvbjtcbiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMucnZhbDtcbiAgICB9LFxuXG4gICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICB0aHJvdyBleGNlcHRpb247XG4gICAgICB9XG5cbiAgICAgIHZhciBjb250ZXh0ID0gdGhpcztcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkge1xuICAgICAgICByZWNvcmQudHlwZSA9IFwidGhyb3dcIjtcbiAgICAgICAgcmVjb3JkLmFyZyA9IGV4Y2VwdGlvbjtcbiAgICAgICAgY29udGV4dC5uZXh0ID0gbG9jO1xuXG4gICAgICAgIGlmIChjYXVnaHQpIHtcbiAgICAgICAgICAvLyBJZiB0aGUgZGlzcGF0Y2hlZCBleGNlcHRpb24gd2FzIGNhdWdodCBieSBhIGNhdGNoIGJsb2NrLFxuICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBjb250ZXh0LmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhISBjYXVnaHQ7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSBcInJvb3RcIikge1xuICAgICAgICAgIC8vIEV4Y2VwdGlvbiB0aHJvd24gb3V0c2lkZSBvZiBhbnkgdHJ5IGJsb2NrIHRoYXQgY291bGQgaGFuZGxlXG4gICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvXG4gICAgICAgICAgLy8gdGhyb3cgdGhlIGV4Y2VwdGlvbi5cbiAgICAgICAgICByZXR1cm4gaGFuZGxlKFwiZW5kXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYpIHtcbiAgICAgICAgICB2YXIgaGFzQ2F0Y2ggPSBoYXNPd24uY2FsbChlbnRyeSwgXCJjYXRjaExvY1wiKTtcbiAgICAgICAgICB2YXIgaGFzRmluYWxseSA9IGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIik7XG5cbiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0NhdGNoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuZmluYWxseUxvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIGFicnVwdDogZnVuY3Rpb24odHlwZSwgYXJnKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA8PSB0aGlzLnByZXYgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCBcImZpbmFsbHlMb2NcIikgJiZcbiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB2YXIgZmluYWxseUVudHJ5ID0gZW50cnk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJlxuICAgICAgICAgICh0eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICAgdHlwZSA9PT0gXCJjb250aW51ZVwiKSAmJlxuICAgICAgICAgIGZpbmFsbHlFbnRyeS50cnlMb2MgPD0gYXJnICYmXG4gICAgICAgICAgYXJnIDw9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGFcbiAgICAgICAgLy8gbG9jYXRpb24gb3V0c2lkZSB0aGUgdHJ5L2NhdGNoIGJsb2NrLlxuICAgICAgICBmaW5hbGx5RW50cnkgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVjb3JkID0gZmluYWxseUVudHJ5ID8gZmluYWxseUVudHJ5LmNvbXBsZXRpb24gOiB7fTtcbiAgICAgIHJlY29yZC50eXBlID0gdHlwZTtcbiAgICAgIHJlY29yZC5hcmcgPSBhcmc7XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgdGhpcy5uZXh0ID0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2M7XG4gICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgIH0sXG5cbiAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVjb3JkLCBhZnRlckxvYykge1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZztcbiAgICAgIH1cblxuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcImJyZWFrXCIgfHxcbiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInJldHVyblwiKSB7XG4gICAgICAgIHRoaXMucnZhbCA9IHRoaXMuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgdGhpcy5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfSxcblxuICAgIGZpbmlzaDogZnVuY3Rpb24oZmluYWxseUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS5maW5hbGx5TG9jID09PSBmaW5hbGx5TG9jKSB7XG4gICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7XG4gICAgICAgICAgcmVzZXRUcnlFbnRyeShlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgXCJjYXRjaFwiOiBmdW5jdGlvbih0cnlMb2MpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHtcbiAgICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjtcbiAgICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgdmFyIHRocm93biA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRocm93bjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb25cbiAgICAgIC8vIGFyZ3VtZW50IHRoYXQgY29ycmVzcG9uZHMgdG8gYSBrbm93biBjYXRjaCBibG9jay5cbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdFwiKTtcbiAgICB9LFxuXG4gICAgZGVsZWdhdGVZaWVsZDogZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VsdE5hbWUsIG5leHRMb2MpIHtcbiAgICAgIHRoaXMuZGVsZWdhdGUgPSB7XG4gICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLFxuICAgICAgICByZXN1bHROYW1lOiByZXN1bHROYW1lLFxuICAgICAgICBuZXh0TG9jOiBuZXh0TG9jXG4gICAgICB9O1xuXG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgdGhpcy5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlXG4gIC8vIG9yIG5vdCwgcmV0dXJuIHRoZSBydW50aW1lIG9iamVjdCBzbyB0aGF0IHdlIGNhbiBkZWNsYXJlIHRoZSB2YXJpYWJsZVxuICAvLyByZWdlbmVyYXRvclJ1bnRpbWUgaW4gdGhlIG91dGVyIHNjb3BlLCB3aGljaCBhbGxvd3MgdGhpcyBtb2R1bGUgdG8gYmVcbiAgLy8gaW5qZWN0ZWQgZWFzaWx5IGJ5IGBiaW4vcmVnZW5lcmF0b3IgLS1pbmNsdWRlLXJ1bnRpbWUgc2NyaXB0LmpzYC5cbiAgcmV0dXJuIGV4cG9ydHM7XG5cbn0oXG4gIC8vIElmIHRoaXMgc2NyaXB0IGlzIGV4ZWN1dGluZyBhcyBhIENvbW1vbkpTIG1vZHVsZSwgdXNlIG1vZHVsZS5leHBvcnRzXG4gIC8vIGFzIHRoZSByZWdlbmVyYXRvclJ1bnRpbWUgbmFtZXNwYWNlLiBPdGhlcndpc2UgY3JlYXRlIGEgbmV3IGVtcHR5XG4gIC8vIG9iamVjdC4gRWl0aGVyIHdheSwgdGhlIHJlc3VsdGluZyBvYmplY3Qgd2lsbCBiZSB1c2VkIHRvIGluaXRpYWxpemVcbiAgLy8gdGhlIHJlZ2VuZXJhdG9yUnVudGltZSB2YXJpYWJsZSBhdCB0aGUgdG9wIG9mIHRoaXMgZmlsZS5cbiAgdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiA/IG1vZHVsZS5leHBvcnRzIDoge31cbikpO1xuXG50cnkge1xuICByZWdlbmVyYXRvclJ1bnRpbWUgPSBydW50aW1lO1xufSBjYXRjaCAoYWNjaWRlbnRhbFN0cmljdE1vZGUpIHtcbiAgLy8gVGhpcyBtb2R1bGUgc2hvdWxkIG5vdCBiZSBydW5uaW5nIGluIHN0cmljdCBtb2RlLCBzbyB0aGUgYWJvdmVcbiAgLy8gYXNzaWdubWVudCBzaG91bGQgYWx3YXlzIHdvcmsgdW5sZXNzIHNvbWV0aGluZyBpcyBtaXNjb25maWd1cmVkLiBKdXN0XG4gIC8vIGluIGNhc2UgcnVudGltZS5qcyBhY2NpZGVudGFsbHkgcnVucyBpbiBzdHJpY3QgbW9kZSwgd2UgY2FuIGVzY2FwZVxuICAvLyBzdHJpY3QgbW9kZSB1c2luZyBhIGdsb2JhbCBGdW5jdGlvbiBjYWxsLiBUaGlzIGNvdWxkIGNvbmNlaXZhYmx5IGZhaWxcbiAgLy8gaWYgYSBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBmb3JiaWRzIHVzaW5nIEZ1bmN0aW9uLCBidXQgaW4gdGhhdCBjYXNlXG4gIC8vIHRoZSBwcm9wZXIgc29sdXRpb24gaXMgdG8gZml4IHRoZSBhY2NpZGVudGFsIHN0cmljdCBtb2RlIHByb2JsZW0uIElmXG4gIC8vIHlvdSd2ZSBtaXNjb25maWd1cmVkIHlvdXIgYnVuZGxlciB0byBmb3JjZSBzdHJpY3QgbW9kZSBhbmQgYXBwbGllZCBhXG4gIC8vIENTUCB0byBmb3JiaWQgRnVuY3Rpb24sIGFuZCB5b3UncmUgbm90IHdpbGxpbmcgdG8gZml4IGVpdGhlciBvZiB0aG9zZVxuICAvLyBwcm9ibGVtcywgcGxlYXNlIGRldGFpbCB5b3VyIHVuaXF1ZSBwcmVkaWNhbWVudCBpbiBhIEdpdEh1YiBpc3N1ZS5cbiAgRnVuY3Rpb24oXCJyXCIsIFwicmVnZW5lcmF0b3JSdW50aW1lID0gclwiKShydW50aW1lKTtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKiBnbG9iYWwgZGVmaW5lLCBQcm9taXNlICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICYmIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIENvbW1vbkpTXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgICAgIHJvb3QuUXVldWUgPSBmYWN0b3J5KCk7XG4gICAgfVxufSlcbih0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBMb2NhbFByb21pc2UgPSB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgPyBQcm9taXNlIDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGhlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUXVldWUuY29uZmlndXJlKCkgYmVmb3JlIHVzZSBRdWV1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtMb2NhbFByb21pc2V9XG4gICAgICovXG4gICAgdmFyIHJlc29sdmVXaXRoID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhbFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXQgbGltaXRzIGNvbmN1cnJlbnRseSBleGVjdXRlZCBwcm9taXNlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhQZW5kaW5nUHJvbWlzZXM9SW5maW5pdHldIG1heCBudW1iZXIgb2YgY29uY3VycmVudGx5IGV4ZWN1dGVkIHByb21pc2VzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttYXhRdWV1ZWRQcm9taXNlcz1JbmZpbml0eV0gIG1heCBudW1iZXIgb2YgcXVldWVkIHByb21pc2VzXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHF1ZXVlID0gbmV3IFF1ZXVlKDEpO1xuICAgICAqXG4gICAgICogcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgKiAgICAgLy8gcmVzb2x2ZSBvZiB0aGlzIHByb21pc2Ugd2lsbCByZXN1bWUgbmV4dCByZXF1ZXN0XG4gICAgICogICAgIHJldHVybiBkb3dubG9hZFRhcmJhbGxGcm9tR2l0aHViKHVybCwgZmlsZSk7XG4gICAgICogfSlcbiAgICAgKiAudGhlbihmdW5jdGlvbiAoZmlsZSkge1xuICAgICAqICAgICBkb1N0dWZmV2l0aChmaWxlKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHF1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICogICAgIHJldHVybiBkb3dubG9hZFRhcmJhbGxGcm9tR2l0aHViKHVybCwgZmlsZSk7XG4gICAgICogfSlcbiAgICAgKiAvLyBUaGlzIHJlcXVlc3Qgd2lsbCBiZSBwYXVzZWRcbiAgICAgKiAudGhlbihmdW5jdGlvbiAoZmlsZSkge1xuICAgICAqICAgICBkb1N0dWZmV2l0aChmaWxlKTtcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBRdWV1ZShtYXhQZW5kaW5nUHJvbWlzZXMsIG1heFF1ZXVlZFByb21pc2VzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB0aGlzLnBlbmRpbmdQcm9taXNlcyA9IDA7XG4gICAgICAgIHRoaXMubWF4UGVuZGluZ1Byb21pc2VzID0gdHlwZW9mIG1heFBlbmRpbmdQcm9taXNlcyAhPT0gJ3VuZGVmaW5lZCcgPyBtYXhQZW5kaW5nUHJvbWlzZXMgOiBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhRdWV1ZWRQcm9taXNlcyA9IHR5cGVvZiBtYXhRdWV1ZWRQcm9taXNlcyAhPT0gJ3VuZGVmaW5lZCcgPyBtYXhRdWV1ZWRQcm9taXNlcyA6IEluZmluaXR5O1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBwcm9taXNlIHByb21pc2VGYWN0b3J5XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gR2xvYmFsUHJvbWlzZVxuICAgICAqL1xuICAgIFF1ZXVlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uIChHbG9iYWxQcm9taXNlKSB7XG4gICAgICAgIExvY2FsUHJvbWlzZSA9IEdsb2JhbFByb21pc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByb21pc2VHZW5lcmF0b3JcbiAgICAgKiBAcmV0dXJuIHtMb2NhbFByb21pc2V9XG4gICAgICovXG4gICAgUXVldWUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwcm9taXNlR2VuZXJhdG9yKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhbFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCwgbm90aWZ5KSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgcXVldWUgdG8gbXVjaCBwcm9taXNlc1xuICAgICAgICAgICAgaWYgKHNlbGYucXVldWUubGVuZ3RoID49IHNlbGYubWF4UXVldWVkUHJvbWlzZXMpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdRdWV1ZSBsaW1pdCByZWFjaGVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQWRkIHRvIHF1ZXVlXG4gICAgICAgICAgICBzZWxmLnF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIHByb21pc2VHZW5lcmF0b3I6IHByb21pc2VHZW5lcmF0b3IsXG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdCxcbiAgICAgICAgICAgICAgICBub3RpZnk6IG5vdGlmeSB8fCBub29wXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2VsZi5fZGVxdWV1ZSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHNpbXVsdGFuZW91c2x5IHJ1bm5pbmcgcHJvbWlzZXMgKHdoaWNoIGFyZSByZXNvbHZpbmcpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgUXVldWUucHJvdG90eXBlLmdldFBlbmRpbmdMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlbmRpbmdQcm9taXNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIHF1ZXVlZCBwcm9taXNlcyAod2hpY2ggYXJlIHdhaXRpbmcpXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9XG4gICAgICovXG4gICAgUXVldWUucHJvdG90eXBlLmdldFF1ZXVlTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIGZpcnN0IGl0ZW0gcmVtb3ZlZCBmcm9tIHF1ZXVlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBRdWV1ZS5wcm90b3R5cGUuX2RlcXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1Byb21pc2VzID49IHRoaXMubWF4UGVuZGluZ1Byb21pc2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgZnJvbSBxdWV1ZVxuICAgICAgICB2YXIgaXRlbSA9IHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9uRW1wdHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMub25FbXB0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ1Byb21pc2VzKys7XG5cbiAgICAgICAgICAgIHJlc29sdmVXaXRoKGl0ZW0ucHJvbWlzZUdlbmVyYXRvcigpKVxuICAgICAgICAgICAgLy8gRm9yd2FyZCBhbGwgc3R1ZmZcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgaXMgbm90IHBlbmRpbmcgbm93XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGVuZGluZ1Byb21pc2VzLS07XG4gICAgICAgICAgICAgICAgICAgIC8vIEl0IHNob3VsZCBwYXNzIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJdCBpcyBub3QgcGVuZGluZyBub3dcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5wZW5kaW5nUHJvbWlzZXMtLTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgc2hvdWxkIG5vdCBtYXNrIGVycm9yc1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZXF1ZXVlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgc2hvdWxkIHBhc3Mgbm90aWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpdGVtLm5vdGlmeShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzZWxmLnBlbmRpbmdQcm9taXNlcy0tO1xuICAgICAgICAgICAgaXRlbS5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIHNlbGYuX2RlcXVldWUoKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBRdWV1ZTtcbn0pO1xuIiwiZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhIb2xlczsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5TGltaXQ7IiwiZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gX25vbkl0ZXJhYmxlUmVzdDsiLCJmdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgYXJyMltpXSA9IGFycltpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyMjtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9hcnJheVdpdGhvdXRIb2xlczsiLCJmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHtcbiAgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXIpID09PSBcIltvYmplY3QgQXJndW1lbnRzXVwiKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfaXRlcmFibGVUb0FycmF5OyIsImZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IF9ub25JdGVyYWJsZVNwcmVhZDsiLCJpbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnXG5cbmV4cG9ydCBjb25zdCBlbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cblxuZXhwb3J0IGNvbnN0IHtcbiAgICBBRERFRF9MSU5LUyA9ICdhZGRlZF9saW5rcycsXG4gICAgTElTVEVOSU5HX0xJTktTID0gJ2xpc3RlbmluZ19saW5rcydcbn0gPSB7fSIsImltcG9ydCB7IGRvd25sb2FkSnNvbiB9IGZyb20gJy4uL2hlbHBlcnMnXG5pbXBvcnQgeyBBRERFRF9MSU5LUywgZW1pdHRlciwgTElTVEVOSU5HX0xJTktTIH0gZnJvbSAnLi4vZXZlbnRzJ1xuXG5leHBvcnQgY29uc3QgZ2V0TGlua3MgPSAoKSA9PiBbLi4uZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCdbaHJlZl0nKV1cbiAgICAubWFwKGEgPT4gYS5ocmVmKVxuICAgIC5maWx0ZXIobGluayA9PiAvaHR0cHM6XFwvXFwvd3d3XFwuaW5zdGFncmFtXFwuY29tXFwvcFxcLy8udGVzdChsaW5rKSlcblxuXG5leHBvcnQgY29uc3Qgc2F2ZUxpbmtzID0gZmlsZSA9PiBlID0+IHtcbiAgICBjb25zdCBldnRvYmogPSB3aW5kb3cuZXZlbnQgPyBldmVudCA6IGVcbiAgICBpZiAoZXZ0b2JqLmtleUNvZGUgPT0gOTAgJiYgZXZ0b2JqLmN0cmxLZXkpIGRvd25sb2FkSnNvbihmaWxlLCAnbGlua3MnKVxufVxuXG5leHBvcnQgY29uc3QgbGlua3MgPSBnZXRMaW5rcygpXG5cbmV4cG9ydCBjb25zdCBsaXN0ZW5MaW5rcyA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTVN1YnRyZWVNb2RpZmllZCcsICgpID0+IHtcblxuICAgICAgICBsZXQgYW55QWRkZWQgPSBmYWxzZVxuICAgICAgICBsZXQgY291bnQgPSAwXG5cbiAgICAgICAgY29uc3QgbmV3TGlua3MgPSBnZXRMaW5rcygpXG4gICAgICAgICAgICAuZmlsdGVyKGxpbmsgPT4gIWxpbmtzLmluY2x1ZGVzKGxpbmspKVxuICAgICAgICAgICAgLm1hcChsaW5rID0+IHtcbiAgICAgICAgICAgICAgICBjb3VudCsrXG4gICAgICAgICAgICAgICAgYW55QWRkZWQgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlua1xuICAgICAgICAgICAgfSlcblxuICAgICAgICBpZiAobmV3TGlua3MubGVuZ3RoIDwgMSkgcmV0dXJuXG5cbiAgICAgICAgbGlua3MucHVzaCguLi5uZXdMaW5rcylcbiAgICAgICAgZW1pdHRlci5lbWl0KEFEREVEX0xJTktTLCBuZXdMaW5rcywgbGlua3MpXG5cbiAgICAgICAgaWYgKGFueUFkZGVkKVxuICAgICAgICAgICAgY29uc29sZS5sb2coYGFkZGVkICR7Y291bnR9IGxpbmtzLCB0b3RhbDpgLCBsaW5rcy5sZW5ndGgpXG4gICAgfSlcbn1cblxuLy8gZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJ1xuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG5kb2N1bWVudC5ib2R5LmFwcGVuZCh3cmFwcGVyKVxuXG5lbWl0dGVyLm9uKExJU1RFTklOR19MSU5LUywgKCkgPT4ge1xuICAgIGVtaXR0ZXIuZW1pdChBRERFRF9MSU5LUywgbGlua3MsIGxpbmtzKVxuICAgIGxpc3RlbkxpbmtzKClcbn0pXG5cbmV4cG9ydCBjb25zdCBnZXRNZXRhRGF0YSA9IGFyciA9PiBhcnJcbiAgICAubWFwKG1ldGEgPT4ge1xuICAgICAgICBjb25zdCB7IGNvbnRlbnQgfSA9IG1ldGFcbiAgICAgICAgY29uc3QgbmFtZSA9IG1ldGEuZ2V0QXR0cmlidXRlKCdwcm9wZXJ0eScpXG5cbiAgICAgICAgcmV0dXJuIHsgbmFtZSwgY29udGVudCB9XG4gICAgfSlcbiAgICAuZmlsdGVyKGEgPT4gYS5uYW1lICYmIGEubmFtZS5tYXRjaCgvb2c6LisvKSlcbiAgICAubWFwKG1ldGEgPT4ge1xuICAgICAgICBsZXQgbmFtZSA9IG1ldGEubmFtZS5yZXBsYWNlKCdvZzonLCAnJylcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtZXRhLmNvbnRlbnQubWF0Y2goL0AoW15cXHMpXSspLylcbiAgICAgICAgaWYgKG5hbWUgPT09ICdkZXNjcmlwdGlvbicpIHtcbiAgICAgICAgICAgIG1ldGEuY29udGVudCA9IG1hdGNoWzFdXG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmFtZSA9PT0gJ2ltYWdlJyB8fCBuYW1lID09PSAnZGVzY3JpcHRpb24nKVxuICAgICAgICAgICAgcmV0dXJuIG1ldGEuY29udGVudFxuICAgIH0pXG4gICAgLmZpbHRlcihhID0+ICEhYSlcblxuZXhwb3J0IGNvbnN0IG1ha2VJRnJhbWUgPSBzcmMgPT4ge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJylcbiAgICBlbC5zcmMgPSBzcmNcblxuICAgIC8qKkB0eXBlIHsgUHJvbWlzZTxIVE1MSUZyYW1lRWxlbWVudD4gfSAqL1xuICAgIGNvbnN0IGxvYWQgPSBuZXcgUHJvbWlzZShycyA9PiBlbC5vbmxvYWQgPSAoKSA9PiBycyhlbCkpXG4gICAgY29uc3QgYWRkID0gKCkgPT4ge1xuICAgICAgICB3cmFwcGVyLmFwcGVuZChlbClcbiAgICAgICAgcmV0dXJuIGxvYWRcbiAgICB9XG5cbiAgICByZXR1cm4geyBlbCwgYWRkLCByZW1vdmU6ICgpID0+IGVsLnJlbW92ZSgpIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldElGcmFtZURhdGEgPSBhc3luYyBpZnJhbWUgPT4ge1xuICAgIGNvbnN0IGVsID0gYXdhaXQgaWZyYW1lLmFkZCgpXG5cbiAgICBjb25zdCBbcGhvdG8sIHVzZXJdID0gZ2V0TWV0YURhdGEoWy4uLmVsLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnbWV0YScpXSlcbiAgICBjb25zb2xlLmluZm8oYEdvdCBwaG90byBmcm9tIEAke3VzZXJ9YClcblxuICAgIGNvbnN0IG9iaiA9IHsgdXNlciwgcGhvdG8gfVxuICAgIGlmcmFtZS5yZW1vdmUoKVxuXG4gICAgcmV0dXJuIG9ialxufVxuXG5leHBvcnQgY29uc3QgZ2V0RGF0YUZyb21JRnJhbWUgPSBhc3luYyBhcnIgPT4ge1xuICAgIGNvbnN0IGRhdGFzID0gYXJyLm1hcChsaW5rID0+IG1ha2VJRnJhbWUobGluaykpXG4gICAgY29uc3QgaWZyYW1lcyA9IGF3YWl0IFByb21pc2UuYWxsKGRhdGFzKVxuXG4gICAgcmV0dXJuIGlmcmFtZXMubWFwKGdldElGcmFtZURhdGEpXG59XG5cbmV4cG9ydCBjb25zdCBnZXRMaW5rRGF0YSA9IGFzeW5jIGh0bWwgPT4ge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgZGl2LmlubmVySFRNTCA9IGh0bWxcblxuICAgIGNvbnN0IFtwaG90bywgdXNlcl0gPSBnZXRNZXRhRGF0YShbLi4uZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGEnKV0pXG4gICAgY29uc29sZS5pbmZvKGBHb3QgcGhvdG8gZnJvbSBAJHt1c2VyfWApXG5cbiAgICBjb25zdCBvYmogPSB7IHVzZXIsIHBob3RvIH1cblxuICAgIHJldHVybiBvYmpcbn0iLCJpbXBvcnQgUXVldWUgZnJvbSAncHJvbWlzZS1xdWV1ZSdcblxuaW1wb3J0IHsgZ2V0TGlua0RhdGEsIHNhdmVMaW5rcyB9IGZyb20gJy4vRE9NJ1xuaW1wb3J0IHsgQURERURfTElOS1MsIExJU1RFTklOR19MSU5LUywgZW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cydcblxuY29uc3QgbWF4Q29uY3VycmVudCA9IDFcbmNvbnN0IG1heFF1ZXVlID0gSW5maW5pdHlcbmNvbnN0IHF1ZXVlID0gbmV3IFF1ZXVlKG1heENvbmN1cnJlbnQsIG1heFF1ZXVlKVxuXG5cbmNvbnN0IGZldGNoTGlua0RhdGEgPSBsaW5rID0+IGZldGNoKGxpbmspXG4gICAgLnRoZW4ociA9PiByLnRleHQoKSlcbiAgICAudGhlbihnZXRMaW5rRGF0YSlcblxuXG5jb25zdCBhZGQyUXVldWUgPSBwID0+IHtcbiAgICBjb25zdCBxID0gcXVldWUuYWRkKCgpID0+IHApXG4gICAgY29uc3QgcGVuZGluZyA9IHF1ZXVlLmdldFBlbmRpbmdMZW5ndGgoKVxuICAgIGNvbnN0IGxlbmd0aCA9IHF1ZXVlLmdldFF1ZXVlTGVuZ3RoKClcblxuICAgIGNvbnNvbGUubG9nKCdRdWV1ZSBQZW5kaW5nJywgcGVuZGluZylcbiAgICBjb25zb2xlLmxvZygnUXVldWUgTGVuZ3RoJywgbGVuZ3RoKVxuXG4gICAgcmV0dXJuIHFcbn1cblxuLyoqXG4gKiBAcGFyYW0geyBzdHJpbmdbXSB9IGFkZGVkTGlua3MgXG4gKi9cbmNvbnN0IHF1ZXVlTGlua3MgPSBwaG90b3MgPT4gYXN5bmMgKGFkZGVkTGlua3MpID0+IHtcbiAgICBjb25zb2xlLmxvZygnZm91bmQgbmV3IGxpbmtzJywgYWRkZWRMaW5rcylcblxuICAgIGNvbnN0IHB1c2hQaG90b3MgPSBhc3luYyBwaG90b1Byb21pc2UgPT4ge1xuICAgICAgICBwaG90b3MucHVzaChhd2FpdCBwaG90b1Byb21pc2UpXG4gICAgICAgIHJldHVybiBwaG90b1Byb21pc2VcbiAgICB9XG5cbiAgICByZXR1cm4gYWRkZWRMaW5rc1xuICAgICAgICAubWFwKGZldGNoTGlua0RhdGEpXG4gICAgICAgIC5tYXAoYWRkMlF1ZXVlKVxuICAgICAgICAubWFwKHB1c2hQaG90b3MpXG59XG5cblxuY29uc3QgcGhvdG9zID0gW11cbmVtaXR0ZXIub24oQURERURfTElOS1MsIHF1ZXVlTGlua3MocGhvdG9zKSlcbmVtaXR0ZXIuZW1pdChMSVNURU5JTkdfTElOS1MpXG5cbmNvbnNvbGUubG9nKCdwaG90b3MgcmVmJywgcGhvdG9zKVxuXG5jb25zb2xlLmxvZygnXFxuQ1RSTCArIFogdG8gZG93bmxvYWQnKVxuZG9jdW1lbnQub25rZXlkb3duID0gc2F2ZUxpbmtzKHBob3RvcylcbiIsIi8qKiBAdHlwZSB7PFQ+KGFycjogVFtdLCBsZW46IG51bWJlcikgPT4gVFtdW119ICovXG5leHBvcnQgY29uc3QgY2h1bmtBcnIgPSAoYXJyLCBsZW4pID0+IHtcbiAgICBjb25zdCBjaHVua3MgPSBbXVxuICAgIGNvbnN0IG4gPSBhcnIubGVuZ3RoXG5cbiAgICBsZXQgaSA9IDBcbiAgICB3aGlsZSAoaSA8IG4pIGNodW5rcy5wdXNoKGFyci5zbGljZShpLCBpICs9IGxlbikpXG5cbiAgICByZXR1cm4gY2h1bmtzXG59XG5cbmV4cG9ydCBjb25zdCBkb3dubG9hZEpzb24gPSAoZXhwb3J0T2JqLCBleHBvcnROYW1lKSA9PiB7XG4gICAgY29uc3QgZGF0YVN0ciA9ICdkYXRhOnRleHQvanNvbmNoYXJzZXQ9dXRmLTgsJyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShleHBvcnRPYmopKVxuICAgIGNvbnN0IGRvd25sb2FkQW5jaG9yTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKVxuXG4gICAgZG93bmxvYWRBbmNob3JOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGRhdGFTdHIpXG4gICAgZG93bmxvYWRBbmNob3JOb2RlLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBleHBvcnROYW1lICsgJy5qc29uJylcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRBbmNob3JOb2RlKVxuXG4gICAgZG93bmxvYWRBbmNob3JOb2RlLmNsaWNrKClcbiAgICBkb3dubG9hZEFuY2hvck5vZGUucmVtb3ZlKClcbn0iXSwic291cmNlUm9vdCI6IiJ9